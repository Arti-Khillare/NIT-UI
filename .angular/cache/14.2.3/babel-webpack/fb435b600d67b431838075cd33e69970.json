{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/category/category.service\";\nimport * as i3 from \"src/app/services/product/product.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\n\nfunction AddProductComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.successMessage, \"\\n\");\n  }\n}\n\nfunction AddProductComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.errorMessage, \"\\n\");\n  }\n}\n\nfunction AddProductComponent_option_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const cat_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", cat_r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", cat_r3 == null ? null : cat_r3.categoryName, \" \");\n  }\n}\n\nexport class AddProductComponent {\n  constructor(fb, _category, _product, route, _route) {\n    this.fb = fb;\n    this._category = _category;\n    this._product = _product;\n    this.route = route;\n    this._route = _route;\n    this.successMessage = '';\n    this.loading = false;\n    this.errorMessage = '';\n    this.productId = '';\n\n    this._route.params.subscribe(data => {\n      this.productId = data.id;\n      this.createProductForm(this.productId);\n    });\n  }\n\n  loadCategory() {\n    this._category.getCategory().subscribe(data => {\n      this.category = data.data;\n    });\n  }\n\n  ngOnInit() {\n    this.loadCategory();\n  }\n\n  createProductForm(id) {\n    if (id) {\n      this._product.getOneProduct(id).subscribe(data => {\n        this.productForm = this.fb.group({\n          productName: [data.data.productName],\n          category: [data.data.categoryId],\n          description: [data.data.description],\n          productNumber: [data.data.productNumber]\n        });\n      });\n    }\n\n    this.productForm = this.fb.group({\n      productName: '',\n      category: '',\n      description: '',\n      productNumber: ''\n    });\n  }\n\n  saveForm() {\n    this.productForm.value.categoryId = this.productForm.value.category._id;\n    const observable = this.productId ? this._product.updateProduct(this.productForm.value, this.productId) : this._product.creatProduct(this.productForm.value);\n    observable.subscribe(data => {\n      this.loading = false;\n      this.successMessage = data.message;\n      this.redirect();\n    }, error => {\n      console.log(error);\n      this.errorMessage = error.error.message;\n    });\n  }\n\n  redirect() {\n    setTimeout(() => {\n      this.successMessage = '';\n      this.route.navigate(['product']);\n    }, 1000);\n  }\n\n}\n\nAddProductComponent.ɵfac = function AddProductComponent_Factory(t) {\n  return new (t || AddProductComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.CategoryService), i0.ɵɵdirectiveInject(i3.ProductService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n};\n\nAddProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddProductComponent,\n  selectors: [[\"app-add-product\"]],\n  decls: 26,\n  vars: 7,\n  consts: [[\"class\", \"alert alert-success\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [\"for\", \"exampleFormControlInput1\", 1, \"form-label\"], [\"type\", \"email\", \"formControlName\", \"productName\", \"placeholder\", \"Product Name\", 1, \"form-control\"], [\"type\", \"email\", \"formControlName\", \"productNumber\", \"placeholder\", \"Product Number\", 1, \"form-control\"], [\"formControlName\", \"category\", 1, \"form-control\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"exampleFormControlTextarea1\", 1, \"form-label\"], [\"formControlName\", \"description\", \"placeholder\", \"Description\", \"rows\", \"3\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"value\", \"disabled\"], [\"role\", \"alert\", 1, \"alert\", \"alert-success\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [3, \"ngValue\"]],\n  template: function AddProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, AddProductComponent_div_2_Template, 2, 1, \"div\", 0);\n      i0.ɵɵtemplate(3, AddProductComponent_div_3_Template, 2, 1, \"div\", 1);\n      i0.ɵɵelementStart(4, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function AddProductComponent_Template_form_ngSubmit_4_listener() {\n        return ctx.saveForm();\n      });\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"label\", 4);\n      i0.ɵɵtext(7, \"Product Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 3)(10, \"label\", 4);\n      i0.ɵɵtext(11, \"Product Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 3)(14, \"label\", 4);\n      i0.ɵɵtext(15, \"Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"select\", 7)(17, \"option\");\n      i0.ɵɵtext(18, \"--Please Select--\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(19, AddProductComponent_option_19_Template, 2, 2, \"option\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 3)(21, \"label\", 9);\n      i0.ɵɵtext(22, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(23, \"textarea\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"div\", 3);\n      i0.ɵɵelement(25, \"input\", 11);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\"\", ctx.productId ? \"Update\" : \"Add\", \" Product\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.successMessage);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.productForm);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngForOf\", ctx.category);\n      i0.ɵɵadvance(6);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx.productId ? \"Update\" : \"Add\");\n      i0.ɵɵproperty(\"disabled\", ctx.loading);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 535:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ../node_modules/postcss-loader/dist/cjs.js):\\\\nError: Failed to find '../../../../node_modules/bootstrap/dist/css/bootstrap.min.css'\\\\n  in [\\\\n    C:\\\\\\\\Users\\\\\\\\ak306\\\\\\\\Desktop\\\\\\\\functionup\\\\\\\\NIT-Project\\\\\\\\NIT-UI\\\\\\\\NIT-UI\\\\\\\\src\\\\\\\\app\\\\\\\\product\\\\\\\\add-product\\\\n  ]\\\\n    at C:\\\\\\\\Users\\\\\\\\ak306\\\\\\\\Desktop\\\\\\\\functionup\\\\\\\\NIT-Project\\\\\\\\NIT-UI\\\\\\\\node_modules\\\\\\\\postcss-import\\\\\\\\lib\\\\\\\\resolve-id.js:35:13\\\\n    at async Promise.all (index 0)\\\\n    at async LazyResult.runAsync (C:\\\\\\\\Users\\\\\\\\ak306\\\\\\\\Desktop\\\\\\\\functionup\\\\\\\\NIT-Project\\\\\\\\NIT-UI\\\\\\\\node_modules\\\\\\\\postcss\\\\\\\\lib\\\\\\\\lazy-result.js:396:11)\\\\n    at async Object.loader (C:\\\\\\\\Users\\\\\\\\ak306\\\\\\\\Desktop\\\\\\\\functionup\\\\\\\\NIT-Project\\\\\\\\NIT-UI\\\\\\\\node_modules\\\\\\\\postcss-loader\\\\\\\\dist\\\\\\\\index.js:95:14)\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[535]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=add-product.component.css.map*/\"]\n});","map":{"version":3,"sources":["C:\\Users\\ak306\\Desktop\\functionup\\NIT-Project\\NIT-UI\\NIT-UI\\src\\app\\product\\add-product\\add-product.component.ts","C:\\Users\\ak306\\Desktop\\functionup\\NIT-Project\\NIT-UI\\NIT-UI\\src\\app\\product\\add-product\\add-product.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { urlParam } from 'src/app/app.interface';\nimport { CategoryService } from 'src/app/services/category/category.service';\nimport { ProductService } from 'src/app/services/product/product.service';\n\n@Component({\n  selector: 'app-add-product',\n  templateUrl: './add-product.component.html',\n  styleUrls: ['./add-product.component.css'],\n})\nexport class AddProductComponent implements OnInit {\n  public productForm!: FormGroup;\n  successMessage: string = '';\n  loading: boolean = false;\n  category?: any[];\n  errorMessage: string = '';\n  productId: string = '';\n\n  constructor(\n    private fb: FormBuilder,\n    private _category: CategoryService,\n    private _product: ProductService,\n    private route: Router,\n    private _route: ActivatedRoute\n  ) {\n    this._route.params.subscribe((data: any) => {\n      this.productId = data.id;\n      this.createProductForm(this.productId);\n    });\n  }\n\n  loadCategory() {\n    this._category.getCategory().subscribe((data: any) => {\n      this.category = data.data;\n    });\n  }\n\n  ngOnInit(): void {\n    this.loadCategory();\n  }\n\n  createProductForm(id: any) {\n    if (id) {\n      this._product.getOneProduct(id).subscribe((data: any) => {\n        this.productForm = this.fb.group({\n          productName: [data.data.productName],\n          category: [data.data.categoryId],\n          description: [data.data.description],\n          productNumber: [data.data.productNumber],\n        });\n      });\n    }\n    this.productForm = this.fb.group({\n      productName: '',\n      category: '',\n      description: '',\n      productNumber: '',\n    });\n  }\n\n  saveForm() {\n    this.productForm.value.categoryId = this.productForm.value.category._id;\n\n    const observable = this.productId\n      ? this._product.updateProduct(this.productForm.value, this.productId)\n      : this._product.creatProduct(this.productForm.value);\n\n    observable.subscribe(\n      (data:any) => {\n        this.loading = false;\n        this.successMessage = data.message;\n        this.redirect();\n      },\n      (error) => {\n        console.log(error);\n        this.errorMessage = error.error.message;\n      }\n    );\n  }\n\n  redirect() {\n    setTimeout(() => {\n      this.successMessage = '';\n      this.route.navigate(['product']);\n    }, 1000);\n  }\n}\n","<h1>{{ productId ? \"Update\" : \"Add\" }} Product</h1>\n<div class=\"alert alert-success\" role=\"alert\" *ngIf=\"successMessage\">\n  {{ successMessage }}\n</div>\n<div class=\"alert alert-danger\" role=\"alert\" *ngIf=\"errorMessage\">\n  {{ errorMessage }}\n</div>\n<form [formGroup]=\"productForm\" (ngSubmit)=\"saveForm()\">\n  <div class=\"mb-3\">\n    <label for=\"exampleFormControlInput1\" class=\"form-label\"\n      >Product Name</label\n    >\n    <input\n      type=\"email\"\n      class=\"form-control\"\n      formControlName=\"productName\"\n      placeholder=\"Product Name\"\n    />\n  </div>\n  <div class=\"mb-3\">\n    <label for=\"exampleFormControlInput1\" class=\"form-label\"\n      >Product Number</label\n    >\n    <input\n      type=\"email\"\n      class=\"form-control\"\n      formControlName=\"productNumber\"\n      placeholder=\"Product Number\"\n    />\n  </div>\n  <div class=\"mb-3\">\n    <label for=\"exampleFormControlInput1\" class=\"form-label\">Category</label>\n    <!-- <input type=\"email\" class=\"form-control\" formControlName=\"categoryName\" placeholder=\"Category\" /> -->\n    <select class=\"form-control\" formControlName=\"category\">\n      <option>--Please Select--</option>\n      <option *ngFor=\"let cat of category\" [ngValue]=\"cat\">\n        {{ cat?.categoryName }}\n      </option>\n    </select>\n  </div>\n\n  <div class=\"mb-3\">\n    <label for=\"exampleFormControlTextarea1\" class=\"form-label\"\n      >Description</label\n    >\n    <textarea\n      class=\"form-control\"\n      formControlName=\"description\"\n      placeholder=\"Description\"\n      rows=\"3\"\n    ></textarea>\n  </div>\n\n  <div class=\"mb-3\">\n    <input\n      type=\"submit\"\n      class=\"btn btn-primary\"\n      value=\"{{ productId ? 'Update' : 'Add' }}\"\n      [disabled]=\"loading\"\n    />\n  </div>\n</form>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}